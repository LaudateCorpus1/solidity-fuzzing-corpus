contract C {
  function f() public pure {
    assembly {
  C   {f
  } f C  ex :=   f  f   C  log4  0 {}
 f      C {}
 f f :=   f  
  now {f
  } f C  ex :=  
 f      C {}
 f f :=   f  
  now {f
  } f C  ex :=   f  f   C  log4   {}
 f      f  f   C  log4   {}
 f      
  }
  }
}
// ?--
